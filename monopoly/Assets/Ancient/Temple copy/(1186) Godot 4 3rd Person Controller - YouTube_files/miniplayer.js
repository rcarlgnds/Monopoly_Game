(function(g){var window=this;'use strict';var Rp=function(C,b){g.n.call(this,{B:"button",J4:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],T:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},U:[{B:"svg",T:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},U:[{B:"g",T:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},U:[{B:"g",T:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
U:[{B:"path",T:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.Z=C;this.listen("click",this.onClick,this);this.updateValue("title",g.lv(C,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.Yz(b.x6(),this.element))},FzD=function(C){g.n.call(this,
{B:"div",
C:"ytp-miniplayer-ui"});this.L=this.W=!1;this.player=C;this.S(C,"minimized",this.pX);this.S(C,"onStateChange",this.Rr4);this.S(C,"documentpictureinpicturechange",this.GEh)},G3d=function(C,b){g.L2(C.player.getRootNode(),"ytp-player-minimized",b);
C.player.D("web_cairo_modern_miniplayer")&&g.L2(C.player.getRootNode(),"ytp-modern-miniplayer",b);C.player.D("web_cairo_modern_miniplayer_inset_progress_bar")&&g.L2(C.player.getRootNode(),"ytp-miniplayer-alternate-ui",b)},SAU=function(C){var b=C.player.Ti().getPlayerSize().width,h=0,N=b;
if(C.player.D("web_cairo_modern_miniplayer")&&!C.L&&!C.player.D("web_cairo_modern_miniplayer_infobar")||C.player.D("web_cairo_modern_miniplayer_inset_progress_bar"))h=12,N=b-24;g.KVH(C.progressBar,h,N,!1);g.Td(C.progressBar)},$Bo=function(C){g.qK.call(this,C);
this.K=new g.Jm(this);this.j=new FzD(this.player);this.j.hide();g.MC(this.player,this.j.element,4);C.isMinimized()&&(this.load(),g.L2(C.getRootNode(),"ytp-player-minimized",!0))};
g.S(Rp,g.n);Rp.prototype.onClick=function(){this.Z.LO("onExpandMiniplayer")};g.S(FzD,g.n);g.k=FzD.prototype;
g.k.show=function(){this.j=new g.xn(this.kZ,null,this);this.j.start();if(!this.W){this.tooltip=new g.us(this.player,this);g.D(this,this.tooltip);g.MC(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.t8=new g.hL(this.player);g.D(this,this.t8);this.progressBar=new g.tL(this.player,this);g.D(this,this.progressBar);g.MC(this.player,this.progressBar.element,4);this.player.D("web_cairo_modern_miniplayer_infobar")&&g.j6(this.player.getRootNode(),"ytp-always-showing-infobar");this.K=new g.n({B:"div",
C:"ytp-miniplayer-scrim"});g.D(this,this.K);this.K.Gi(this.element);this.S(this.K.element,"click",this.rD);var C=new g.n({B:"button",J4:["ytp-miniplayer-close-button","ytp-button"],T:{"aria-label":"Close"},U:[g.$Y()]});g.D(this,C);C.Gi(this.K.element);this.S(C.element,"click",this.rT);C=new Rp(this.player,this);g.D(this,C);C.Gi(this.K.element);this.N=new g.n({B:"div",C:"ytp-miniplayer-controls"});g.D(this,this.N);this.N.Gi(this.K.element);this.player.D("web_cairo_modern_miniplayer")||this.S(this.N.element,
"click",this.rD);var b=new g.n({B:"div",C:"ytp-miniplayer-button-container"});g.D(this,b);b.Gi(this.N.element);C=new g.n({B:"div",C:"ytp-miniplayer-play-button-container"});g.D(this,C);C.Gi(this.N.element);var h=new g.n({B:"div",C:"ytp-miniplayer-button-container"});g.D(this,h);h.Gi(this.N.element);this.V=new g.DA(this.player,this,!1);g.D(this,this.V);this.V.Gi(b.element);b=new g.vH(this.player,this);g.D(this,b);b.Gi(C.element);this.nextButton=new g.DA(this.player,this,!0);g.D(this,this.nextButton);
this.nextButton.Gi(h.element);this.J=this.player.D("web_cairo_modern_miniplayer")?new g.MY(this.player,this,0):new g.MY(this.player,this);g.D(this,this.J);this.J.Gi(this.K.element);this.X=new g.n({B:"div",C:"ytp-miniplayer-buttons"});g.D(this,this.X);g.MC(this.player,this.X.element,4);C=new g.n({B:"button",J4:["ytp-miniplayer-close-button","ytp-button"],T:{"aria-label":"Close"},U:[g.$Y()]});g.D(this,C);C.Gi(this.X.element);this.S(C.element,"click",this.rT);C=new g.n({B:"button",J4:["ytp-miniplayer-replay-button",
"ytp-button"],T:{"aria-label":"Close"},U:[g.m3()]});g.D(this,C);C.Gi(this.X.element);this.S(C.element,"click",this.QL4);this.player.D("web_cairo_modern_miniplayer")&&(C=new Rp(this.player,this),g.D(this,C),C.Gi(this.X.element));this.S(this.player,"presentingplayerstatechange",this.U9);this.S(this.player,"appresize",this.eC);this.S(this.player,"fullscreentoggled",this.eC);this.player.D("web_cairo_modern_miniplayer")&&this.S(this.player,"onPlaylistUpdate",this.G1);this.eC();this.W=!0}this.player.getPlayerState()!==
0&&g.n.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.k.hide=function(){this.j&&(this.j.dispose(),this.j=void 0);g.n.prototype.hide.call(this);this.player.isMinimized()||(this.W&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.k.wO=function(){this.j&&(this.j.dispose(),this.j=void 0);g.n.prototype.wO.call(this)};
g.k.rT=function(){this.player.D("kevlar_watch_while_v2")||this.player.stopVideo();this.player.LO("onCloseMiniplayer")};
g.k.QL4=function(){this.player.playVideo()};
g.k.rD=function(C){if(C.target===this.K.element||C.target===this.N.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.k.pX=function(){G3d(this,this.player.isMinimized());this.player.D("web_cairo_modern_miniplayer")&&this.G1()};
g.k.GEh=function(){G3d(this,this.player.S1());this.player.D("web_cairo_modern_miniplayer")&&this.G1();g.L2(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.S1())};
g.k.PL=function(){this.progressBar.cW();this.J.cW()};
g.k.kZ=function(){this.PL();this.j&&this.j.start()};
g.k.U9=function(C){g.B(C.state,32)&&this.tooltip.hide()};
g.k.G1=function(){this.L=(this.player.isMinimized()||this.player.S1())&&!!this.player.getPlaylist();g.L2(this.player.getRootNode(),"ytp-has-playlist-data",this.L);SAU(this)};
g.k.eC=function(){SAU(this)};
g.k.Rr4=function(C){this.player.isMinimized()&&(C===0?this.hide():this.show())};
g.k.x6=function(){return this.tooltip};
g.k.AM=function(C,b,h,N,p){var P=0,c=0,e=0,L=g.Hc(C);N=b&&(g.P4(b,"ytp-prev-button")||g.P4(b,"ytp-next-button"));if(b){h=g.P4(b,"ytp-play-button");var Z=g.P4(b,"ytp-miniplayer-expand-watch-page-button");N?P=e=12:h?(b=g.$X(b,this.element),e=b.x,P=b.y-12):Z&&(e=g.P4(b,"ytp-miniplayer-button-top-left"),P=g.$X(b,this.element),b=g.Hc(b),e?(e=8,P=P.y+40):(e=P.x-L.width+b.width,P=P.y-20))}else e=h-L.width/2,c=25+(p||0);b=this.player.Ti().getPlayerSize();p=P+(p||0);L=g.cE(e,0,b.width-L.width-12);p?(C.style.top=
p+"px",C.style.bottom=""):(C.style.top="",C.style.bottom=c+"px");C.style.left=L+"px";this.player.D("web_cairo_modern_miniplayer")&&(c=g.P4(C,"ytp-preview"),C.style.visibility=N&&c&&b.height<225?"hidden":"")};g.S($Bo,g.qK);g.k=$Bo.prototype;g.k.onVideoDataChange=function(){if(this.player.getVideoData()){var C=this.player.getVideoAspectRatio(),b=16/9;C=C>b+.1||C<b-.1;g.L2(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",C)}};
g.k.create=function(){g.qK.prototype.create.call(this);this.K.S(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.k.Aj=function(){return!1};
g.k.load=function(){this.player.hideControls();this.j.show()};
g.k.unload=function(){this.player.showControls();this.j.hide()};g.MK("miniplayer",$Bo);})(_yt_player);
